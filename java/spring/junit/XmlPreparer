public class XmlPreparer {
    public static <T> T prepare(String fileName, TypeReference<T> typeReference) {
        try {
            File file = ResourceUtils.getFile("classpath:" + fileName);
            JAXBContext jaxbContext = JAXBContext.newInstance(Class.forName(typeReference.getType().getTypeName()));
            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();
            return (T) jaxbUnmarshaller.unmarshal(file);

        } catch (JAXBException | FileNotFoundException | ClassNotFoundException e) {
            e.printStackTrace();
        }
        return null;
    }
}



 MyClass myobject = XmlPreparer.prepare("xml/file.xml",  new TypeReference<>() {
        });
        
        
// object to xml
JAXBContext context = JAXBContext.newInstance(MyClass.class);
Marshaller m = context.createMarshaller();

m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // To format XML

StringWriter sw = new StringWriter();
m.marshal(request, sw);
sw.toString();
