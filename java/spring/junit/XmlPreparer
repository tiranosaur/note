public class XmlPreparer {
    public static <T> T prepare(String fileName, TypeReference<T> typeReference) {
        try {
            File file = ResourceUtils.getFile("classpath:" + fileName);
            JAXBContext jaxbContext = JAXBContext.newInstance(Class.forName(typeReference.getType().getTypeName()));
            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();
            return (T) jaxbUnmarshaller.unmarshal(file);

        } catch (JAXBException | FileNotFoundException | ClassNotFoundException e) {
            e.printStackTrace();
        }
        return null;
    }
}



 MyClass myobject = XmlPreparer.prepare("xml/BSLiefereRolleResponse_6592600.xml",  new TypeReference<>() {
        });
        
        
// object to xml
ByteArrayOutputStream baos = new ByteArrayOutputStream();
XMLEncoder xmlEncoder = new XMLEncoder(baos);
xmlEncoder.writeObject(request);
xmlEncoder.close();
String xml = baos.toString();
